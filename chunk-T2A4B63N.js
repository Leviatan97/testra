import{Aa as S,Ba as w,R as f,Sa as A,Y as d,Z as l,la as v,ra as a,sa as r,ta as h,ua as _,va as c,wa as u,xa as p,ya as m,za as s}from"./chunk-XFZOJ4P5.js";var g=["viewer"],y=["audioElement"],C=(()=>{class n{viewer;audio;audioEnabled=!1;deviceOS="";ngAfterViewInit(){this.detectDeviceOS();let t=this.viewer.nativeElement,e=this.audio.nativeElement;t.addEventListener("ar-status",i=>{i.detail.status==="session-started"?(console.log("AR iniciado en",this.deviceOS),this.deviceOS==="Android"?setTimeout(()=>{this.audioEnabled&&e.play()},500):this.deviceOS==="iOS"&&this.audioEnabled&&e.play()):i.detail.status==="not-presenting"&&(console.log("AR cerrado, pausando audio."),e.pause(),e.currentTime=0)})}playAudio(){this.audio.nativeElement.play().then(()=>{console.log("Audio activado."),this.audioEnabled=!0}).catch(e=>{console.error("Error al reproducir el audio:",e)})}detectDeviceOS(){let t=navigator.userAgent;/android/i.test(t)?this.deviceOS="Android":/iPad|iPhone|iPod/i.test(t)?this.deviceOS="iOS":/Windows NT/i.test(t)?this.deviceOS="Windows":this.deviceOS="Unknown",console.log("Sistema operativo detectado:",this.deviceOS)}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=f({type:n,selectors:[["app-ar"]],viewQuery:function(e,i){if(e&1&&(u(g,5),u(y,5)),e&2){let o;p(o=m())&&(i.viewer=o.first),p(o=m())&&(i.audio=o.first)}},standalone:!0,features:[w],decls:10,vars:1,consts:[["viewer",""],["audioElement",""],["src","./Jorge_Rausch_animated.glb","ios-src","./Jorge_Rausch_animated.usdz","alt","A 3D model","ar","","auto-rotate","","camera-controls",""],["slot","hotspot","data-position","0 1 0","data-normal","0 1 0",1,"hotspot-button",3,"click"],["src","./audio_Rausch_edit_2.mp3","preload","auto"],[3,"click"]],template:function(e,i){if(e&1){let o=_();a(0,"p"),s(1),r(),a(2,"model-viewer",2,0)(4,"button",3),c("click",function(){return d(o),l(i.playAudio())}),s(5," \u{1F50A} Activar Sonido "),r()(),h(6,"audio",4,1),a(8,"button",5),c("click",function(){return d(o),l(i.playAudio())}),s(9,"\u{1F50A} Activar sonido"),r()}e&2&&(v(),S("Hola prueba N#41 ",i.deviceOS,""))},dependencies:[A],styles:[".canvas[_ngcontent-%COMP%]{width:100%;height:100%;display:block}.hotspot-button[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);background-color:#000000b3;color:#fff;border:none;padding:10px;border-radius:8px;font-size:16px;cursor:pointer;z-index:1000}"]})}return n})();export{C as ArComponent};
