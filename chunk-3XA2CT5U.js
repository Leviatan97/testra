import{Aa as A,Ba as C,R as v,Sa as y,Y as a,Z as s,la as h,ra as n,sa as d,ta as _,ua as w,va as l,wa as c,xa as m,ya as p,za as u}from"./chunk-XFZOJ4P5.js";var E=["viewer"],b=["audioElement"],O=(()=>{class r{viewer;audio;audioEnabled=!1;deviceOS="";ngAfterViewInit(){this.detectDeviceOS();let e=this.viewer.nativeElement,i=this.audio.nativeElement;e.addEventListener("ar-status",t=>{t.detail.status==="session-started"&&this.audioEnabled?this.playAudio():t.detail.status==="not-presenting"&&i.pause()})}playAudio(){let e=this.audio.nativeElement;setTimeout(()=>{e.paused&&(e.play(),this.audioEnabled=!0)},100)}onARStatus(e){let i=e.detail.status;if(console.log("AR Status:",i),i==="session-started"&&this.audioEnabled){let t=this.audio.nativeElement;t&&t.play().catch(o=>{console.error("Error al reproducir el audio:",o),alert("No se pudo reproducir el audio. Por favor, int\xE9ntalo de nuevo.")})}}detectDeviceOS(){let e=navigator.userAgent;/android/i.test(e)?this.deviceOS="Android":/iPad|iPhone|iPod/i.test(e)?this.deviceOS="iOS":/Windows NT/i.test(e)?this.deviceOS="Windows":this.deviceOS="Unknown",console.log("Sistema operativo detectado:",this.deviceOS)}static \u0275fac=function(i){return new(i||r)};static \u0275cmp=v({type:r,selectors:[["app-ar"]],viewQuery:function(i,t){if(i&1&&(c(E,5),c(b,5)),i&2){let o;m(o=p())&&(t.viewer=o.first),m(o=p())&&(t.audio=o.first)}},standalone:!0,features:[C],decls:10,vars:1,consts:[["viewer",""],["audioElement",""],["src","./Jorge_Rausch_animated.glb","ios-src","./Jorge_Rausch_animated.usdz","alt","A 3D model","ar","","auto-rotate","","camera-controls","",3,"ar-status"],["slot","hotspot","data-position","0 1 0","data-normal","0 1 0",1,"hotspot-button",3,"click"],["src","./audio_Rausch_edit_2.mp3","preload","auto"],[3,"click"]],template:function(i,t){if(i&1){let o=w();n(0,"p"),u(1),d(),n(2,"model-viewer",2,0),l("ar-status",function(g){return a(o),s(t.onARStatus(g))}),n(4,"button",3),l("click",function(){return a(o),s(t.playAudio())}),u(5," \u{1F50A} Activar Sonido "),d()(),_(6,"audio",4,1),n(8,"button",5),l("click",function(){return a(o),s(t.playAudio())}),u(9,"\u{1F50A} Activar sonido"),d()}i&2&&(h(),A("Hola prueba N#46 ",t.deviceOS,""))},dependencies:[y],styles:[".canvas[_ngcontent-%COMP%]{width:100%;height:100%;display:block}.hotspot-button[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);background-color:#000000b3;color:#fff;border:none;padding:10px;border-radius:8px;font-size:16px;cursor:pointer;z-index:1000}"]})}return r})();export{O as ArComponent};
